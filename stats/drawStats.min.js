function drawStats(n){function a(o){$("#heading").html(o.label+" "+o.labelplus);$("#line-info span").html("21");$("#info span").eq(0).html(o.numSolvedTasks);$("#info span").eq(1).html(o.totalNumTasks);$("#info span").eq(2).html(o.numSuccSolvedTasks);$("#info span").eq(3).html(o.numUnSuccSolvedTasks);$("#task-info").hide()}function c(o){$("#task-info span").eq(0).html(o.label.date+" в 	"+o.label.time);$("#task-info span").eq(1).html(o.taskCode);$("#task-info span").eq(2).html(o.userAnswer);$("#task-info span").eq(3).html(o.rightAnswer);$("#task-info span").eq(4).html(o.value=="0"?"не решено":o.value=="1"?"решено":"решено не верно")}var j=function(){c(this.remember("stats"));$("#task-info").show()};var m=function(){var o=this.remember("bar");$("#line svg").remove();var p=new LineChart(o.subVals,l).draw();a(o)};var l=n&&n.lineChartOptions?n.lineChartOptions:{id:"line",key:"stats",getValue:function(o){return o.numSolved?o.numSuccSolved*100/o.numSolved:0}};var d=n&&n.barChartOptions?n.barChartOptions:{id:"bars",key:"bar"};d.click=m;l.click=j;var b=new LineChart(n.dataLine,l).draw();if(!n.vertical){var k=new BarChart(n.dataBar,d).draw();return}for(var e in n.vDataBar){var f=n.vDataBar[e];console.log("Drawing: "+f.id);elem=$("#"+f.id);if(f.append||elem.length==0){var i=f.title?'<div class="chart-title" ><span>'+f.title+'</span><div class="chart-arrow-up"> </div></div>':"";$(n.appendSelector).append('<tr><td class="'+f.tdClass+'">'+i+'<div class="chart-body" id="'+f.id+'"></div></td></tr>');elem=$("#"+f.id)}for(var h in f.data){var g=f.data[h];d.id=f.id+"-"+e+"-"+h;elem.append("<div id="+d.id+"></div>");new BarChartVertical(g,d).draw()}}$(".chart-title div").each(function(){$(this).click(function(){$(this).parents(".chartContainer").find(".chart-body").toggle("fast");$(this).toggleClass(function(o,p){console.log(p);return p=="chart-arrow-up"?"chart-arrow-down":"chart-arrow-up"});console.dir($(this).parents(".chartContainer").find(".chart-body"))})})};